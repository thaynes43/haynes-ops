---
# Note: `${VAR_NAME}` is intended for Gatus runtime env var expansion.
# Flux substitution is disabled for the generated ConfigMap (see app/kustomization.yaml).
web:
  port: ${GATUS_WEB_PORT}
storage:
  type: sqlite
  caching: true
  path: ${GATUS_CONFIG_PATH}/gatus.db
metrics: true
debug: false
ui:
  title: Status | Gatus
  header: Status
connectivity:
  checker:
    target: 1.1.1.1:53
    interval: 1m
endpoints:
  - name: status
    group: internal
    url: ${GATUS_DNS_SERVER}
    interval: 1m
    ui:
      hide-hostname: true
      hide-url: true
    dns:
      query-name: "status.haynesops.com"
      query-type: A
    conditions:
      - "[DNS_RCODE] == NOERROR"
    alerts:
      - type: pushover
  - name: flux-webhook
    group: internal
    url: ${GATUS_DNS_SERVER}
    interval: 1m
    ui:
      hide-hostname: true
      hide-url: true
    dns:
      query-name: "flux-webhook.haynesops.com"
      query-type: A
    conditions:
      - "[DNS_RCODE] == NOERROR"
    alerts:
      - type: pushover
